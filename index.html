<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –ü–ª–∞–Ω: 3 –ú–µ—Å—è—Ü–∞</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f5f5f4; 
        }
        ::-webkit-scrollbar-thumb {
            background: #d6d3d1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #a8a29e; 
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 100%;
            height: 300px;
        }
        .phase-btn.active {
            background-color: #0d9488; /* teal-600 */
            color: white;
            border-color: #0d9488;
        }
        .day-card.active {
            border-color: #0d9488; /* teal-600 */
            background-color: #f0fdfa; /* teal-50 */
        }
    </style>
    <!-- Chosen Palette: "Vitality Stone" -->
    <!-- Background: Stone-50 (Warm Neutral) -->
    <!-- Primary: Teal-600 (Health/Growth) -->
    <!-- Warning/Caution: Orange-500 (Hernia Safety) -->
    <!-- Text: Stone-800 (Readability) -->

    <!-- Application Structure Plan: 
         1. Header & Context: Clear Title and "Critical Rules" summary emphasizing safety first.
         2. Control Center (Top): A "Phase Selector" (Month 1-3) to control the progression difficulty globally.
         3. Weekly Schedule (Navigation): A horizontal interactive strip representing the week. Clicking a day updates the main view.
         4. Main Workout View (The Core): 
            - Dynamic Panels: Warm-up (Always first), Main Workout (Context-aware based on Phase & Day), Cool-down (Always last).
            - Strength Cards: Interactive cards for exercises showing specific Sets/Reps/Weight for the selected Phase.
            - Cardio Gauges: Visual representation of the Run/Walk ratio.
         5. Analytics Section (Bottom): Visualizing the "Journey".
            - Chart 1: Cardio Evolution (Walking vs Running minutes over 12 weeks).
            - Chart 2: Strength Volume Progression.
         Rationale: Users need to see "What do I do today?" immediately, but also understand "Where am I going?" via the charts. 
    -->

    <!-- Visualization & Content Choices:
         1. Cardio Evolution -> Goal: Change -> Method: Stacked Area Chart (Chart.js) -> Interaction: Hover for weekly details -> Justification: Perfectly visualizes the transition from walking-dominant to running-dominant.
         2. Strength Progression -> Goal: Compare -> Method: Bar Chart -> Interaction: Phase Toggle -> Justification: Shows the step-up in load/intensity across the 3 months.
         3. Daily Plan -> Goal: Inform/Organize -> Method: Interactive DOM Manipulation -> Interaction: Day/Phase clicks -> Justification: Replaces static tables with a focused "Today's Task" view.
         
         CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->
</head>
<body class="bg-stone-50 text-stone-800 font-sans leading-relaxed">
    <!-- Header Section -->
    <header class="bg-white border-b border-stone-200 shadow-sm sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 py-4 flex flex-col md:flex-row justify-between items-center">
            <div>
                <h1 class="text-2xl font-bold text-teal-800 tracking-tight">üèÉ‚Äç‚ôÄÔ∏è –¢—Ä–µ–∫–µ—Ä –ü—Ä–æ–≥—Ä–µ—Å—Å–∞: –ë–µ–≥ –∏ –°–∏–ª–∞</h1>
                <p class="text-sm text-stone-500">–ü—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–∞ 3 –º–µ—Å—è—Ü–∞: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Ä¢ –ö–æ—Ä ‚Ä¢ –í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å</p>
            </div>
            <div class="mt-4 md:mt-0 flex items-center gap-4">
                <div class="bg-orange-50 border border-orange-200 text-orange-800 px-4 py-2 rounded-lg text-sm flex items-center shadow-sm">
                    <span class="text-xl mr-2">‚ö†Ô∏è</span>
                    <div>
                        <strong>–ö–†–ò–¢–ò–ß–ù–û:</strong> –ù–µ—Ç –±–æ–ª–∏ –≤ —Å–ø–∏–Ω–µ! <br>
                        <span class="text-xs">–î–µ—Ä–∂–∏ –Ω–µ–π—Ç—Ä–∞–ª—å. –ù–∞–ø—Ä—è–≥–∞–π –∂–∏–≤–æ—Ç.</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-6xl mx-auto px-4 py-8 space-y-8">

        <!-- Phase Selector (Global State Control) -->
        <section class="bg-white rounded-2xl p-6 shadow-sm border border-stone-200">
            <h2 class="text-lg font-semibold text-stone-700 mb-4">1. –í—ã–±–µ—Ä–∏—Ç–µ –≠—Ç–∞–ø –ü—Ä–æ–≥—Ä–∞–º–º—ã</h2>
            <p class="text-stone-500 text-sm mb-6 max-w-3xl">–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –º–µ—Å—è—Ü. –ù–∞–≥—Ä—É–∑–∫–∞ –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –±—É–¥—É—Ç –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</p>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <button onclick="setPhase(1)" id="phase-btn-1" class="phase-btn active flex flex-col items-center justify-center p-4 border-2 rounded-xl transition-all hover:bg-teal-50">
                    <span class="text-lg font-bold mb-1">–ú–µ—Å—è—Ü 1 (–ù–µ–¥–µ–ª–∏ 1-4)</span>
                    <span class="text-sm opacity-90">–°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –∏ —Ç–µ—Ö–Ω–∏–∫–∏</span>
                </button>
                <button onclick="setPhase(2)" id="phase-btn-2" class="phase-btn flex flex-col items-center justify-center p-4 border-2 border-stone-200 rounded-xl transition-all hover:bg-stone-100 bg-white text-stone-500">
                    <span class="text-lg font-bold mb-1">–ú–µ—Å—è—Ü 2 (–ù–µ–¥–µ–ª–∏ 5-8)</span>
                    <span class="text-sm opacity-90">–ê–¥–∞–ø—Ç–∞—Ü–∏—è –∏ —Ä–æ—Å—Ç –Ω–∞–≥—Ä—É–∑–∫–∏</span>
                </button>
                <button onclick="setPhase(3)" id="phase-btn-3" class="phase-btn flex flex-col items-center justify-center p-4 border-2 border-stone-200 rounded-xl transition-all hover:bg-stone-100 bg-white text-stone-500">
                    <span class="text-lg font-bold mb-1">–ú–µ—Å—è—Ü 3 (–ù–µ–¥–µ–ª–∏ 9-12)</span>
                    <span class="text-sm opacity-90">–ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è –∏ –¶–µ–ª—å 30 –º–∏–Ω</span>
                </button>
            </div>
        </section>

        <!-- Weekly Scheduler -->
        <section>
            <h2 class="text-lg font-semibold text-stone-700 mb-4">2. –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ù–µ–¥–µ–ª–∏</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-2">
                <!-- Days generated by JS -->
                <button onclick="setDay(0)" id="day-0" class="day-card active border-2 border-stone-200 bg-white rounded-lg p-3 text-center transition-all hover:shadow-md">
                    <div class="text-xs font-bold uppercase text-stone-400">–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫</div>
                    <div class="font-bold text-teal-700 mt-1">–°–∏–ª–æ–≤–∞—è –ê</div>
                </button>
                <button onclick="setDay(1)" id="day-1" class="day-card border-2 border-stone-200 bg-white rounded-lg p-3 text-center transition-all hover:shadow-md">
                    <div class="text-xs font-bold uppercase text-stone-400">–í—Ç–æ—Ä–Ω–∏–∫</div>
                    <div class="font-bold text-blue-600 mt-1">–ö–∞—Ä–¥–∏–æ</div>
                </button>
                <button onclick="setDay(2)" id="day-2" class="day-card border-2 border-stone-200 bg-white rounded-lg p-3 text-center transition-all hover:shadow-md">
                    <div class="text-xs font-bold uppercase text-stone-400">–°—Ä–µ–¥–∞</div>
                    <div class="font-bold text-purple-600 mt-1">–ü–∏–ª–∞—Ç–µ—Å</div>
                </button>
                <button onclick="setDay(3)" id="day-3" class="day-card border-2 border-stone-200 bg-white rounded-lg p-3 text-center transition-all hover:shadow-md">
                    <div class="text-xs font-bold uppercase text-stone-400">–ß–µ—Ç–≤–µ—Ä–≥</div>
                    <div class="font-bold text-teal-700 mt-1">–°–∏–ª–æ–≤–∞—è –ë</div>
                </button>
                <button onclick="setDay(4)" id="day-4" class="day-card border-2 border-stone-200 bg-white rounded-lg p-3 text-center transition-all hover:shadow-md">
                    <div class="text-xs font-bold uppercase text-stone-400">–ü—è—Ç–Ω–∏—Ü–∞</div>
                    <div class="font-bold text-blue-600 mt-1">–ö–∞—Ä–¥–∏–æ</div>
                </button>
                <button onclick="setDay(5)" id="day-5" class="day-card border-2 border-stone-200 bg-white rounded-lg p-3 text-center transition-all hover:shadow-md">
                    <div class="text-xs font-bold uppercase text-stone-400">–°—É–±–±–æ—Ç–∞</div>
                    <div class="font-bold text-stone-500 mt-1">–û—Ç–¥—ã—Ö</div>
                </button>
                <button onclick="setDay(6)" id="day-6" class="day-card border-2 border-stone-200 bg-white rounded-lg p-3 text-center transition-all hover:shadow-md">
                    <div class="text-xs font-bold uppercase text-stone-400">–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ</div>
                    <div class="font-bold text-blue-600 mt-1">–ö–∞—Ä–¥–∏–æ</div>
                </button>
            </div>
        </section>

        <!-- Dynamic Workout View -->
        <section class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            
            <!-- Left Column: The Workout Plan -->
            <div class="lg:col-span-2 space-y-6">
                
                <!-- Dynamic Header -->
                <div class="bg-white rounded-2xl p-6 shadow-sm border-l-8 border-teal-600">
                    <h2 id="workout-title" class="text-3xl font-bold text-stone-800">–°–∏–ª–æ–≤–∞—è –ê: –ù–æ–≥–∏ –∏ –Ø–≥–æ–¥–∏—Ü—ã</h2>
                    <p id="workout-desc" class="text-stone-600 mt-2">–§–æ–∫—É—Å –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ —Ç–µ–ª–∞ –∏ –∑–∞—â–∏—Ç—É –ø–æ—è—Å–Ω–∏—Ü—ã.</p>
                </div>

                <!-- 1. Warm Up Block (Always Visible for Workouts) -->
                <div id="warmup-block" class="bg-stone-100 rounded-xl p-6 border border-stone-200">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-bold text-lg text-orange-700 flex items-center gap-2">üî• –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –†–∞–∑–º–∏–Ω–∫–∞ <span class="text-xs bg-orange-200 text-orange-800 px-2 py-0.5 rounded-full">–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ 5-7 –º–∏–Ω</span></h3>
                        <button onclick="toggleSection('warmup-list')" class="text-sm text-stone-500 hover:text-stone-800 underline">–°–∫—Ä—ã—Ç—å/–ü–æ–∫–∞–∑–∞—Ç—å</button>
                    </div>
                    <ul id="warmup-list" class="grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm">
                        <li class="flex items-start gap-2"><span class="text-orange-500 font-bold">1.</span> <div><strong>–í—Ä–∞—â–µ–Ω–∏—è —Å—Ç–æ–ø:</strong> 10x –∫–∞–∂–¥–∞—è —Å—Ç–æ—Ä–æ–Ω–∞</div></li>
                        <li class="flex items-start gap-2"><span class="text-orange-500 font-bold">2.</span> <div><strong>–ú–∞—Ö–∏ –Ω–æ–≥–∞–º–∏:</strong> 10x (–ø–ª–∞–≤–Ω–æ)</div></li>
                        <li class="flex items-start gap-2"><span class="text-orange-500 font-bold">3.</span> <div><strong>–û—Ç–∫—Ä—ã—Ç–∏–µ –±–µ–¥—Ä–∞:</strong> 5-7x –∫—Ä—É–≥–æ–≤—ã–µ</div></li>
                        <li class="flex items-start gap-2"><span class="text-orange-500 font-bold">4.</span> <div><strong>–ù–∞–∫–ª–æ–Ω—ã:</strong> 5-7x —Å—Ç–æ—Ä–æ–Ω—ã/–≤–ø–µ—Ä–µ–¥</div></li>
                        <li class="flex items-start gap-2"><span class="text-orange-500 font-bold">5.</span> <div><strong>–í—Ä–∞—â–µ–Ω–∏–µ –ø–ª–µ—á:</strong> 10x –≤–ø–µ—Ä–µ–¥/–Ω–∞–∑–∞–¥</div></li>
                        <li class="flex items-start gap-2"><span class="text-orange-500 font-bold">6.</span> <div><strong>–õ–µ–≥–∫–∏–µ –ø—Ä–∏—Å–µ–¥–∞–Ω–∏—è:</strong> 10-12x (–±–µ–∑ –≤–µ—Å–∞)</div></li>
                    </ul>
                </div>

                <!-- 2. MAIN WORKOUT CONTENT (Dynamic) -->
                <div id="main-workout-container" class="space-y-4">
                    <!-- Cards injected via JS -->
                </div>

                <!-- 3. Cool Down Block (Always Visible for Workouts) -->
                <div id="cooldown-block" class="bg-teal-50 rounded-xl p-6 border border-teal-100">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-bold text-lg text-teal-800 flex items-center gap-2">‚ùÑÔ∏è –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –ó–∞–º–∏–Ω–∫–∞ <span class="text-xs bg-teal-200 text-teal-800 px-2 py-0.5 rounded-full">5-7 –º–∏–Ω</span></h3>
                        <button onclick="toggleSection('cooldown-list')" class="text-sm text-stone-500 hover:text-stone-800 underline">–°–∫—Ä—ã—Ç—å/–ü–æ–∫–∞–∑–∞—Ç—å</button>
                    </div>
                    <ul id="cooldown-list" class="grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm">
                        <li class="flex items-start gap-2"><span class="text-teal-600 font-bold">1.</span> <div><strong>–°–≥–∏–±–∞—Ç–µ–ª—å –±–µ–¥—Ä–∞:</strong> 30-45 —Å–µ–∫ <span class="text-xs text-orange-600 font-bold">(–í–∞–∂–Ω–æ!)</span></div></li>
                        <li class="flex items-start gap-2"><span class="text-teal-600 font-bold">2.</span> <div><strong>–Ø–≥–æ–¥–∏—Ü–∞ (–ß–µ—Ç–≤–µ—Ä–∫–∞):</strong> 30-45 —Å–µ–∫</div></li>
                        <li class="flex items-start gap-2"><span class="text-teal-600 font-bold">3.</span> <div><strong>–ó–∞–¥–Ω—è—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å:</strong> 30-45 —Å–µ–∫</div></li>
                        <li class="flex items-start gap-2"><span class="text-teal-600 font-bold">4.</span> <div><strong>–ò–∫—Ä—ã (–£ —Å—Ç–µ–Ω—ã):</strong> 30-45 —Å–µ–∫</div></li>
                        <li class="flex items-start gap-2"><span class="text-teal-600 font-bold">5.</span> <div><strong>–°–∫—Ä—É—á–∏–≤–∞–Ω–∏–µ –ª–µ–∂–∞:</strong> 30-45 —Å–µ–∫ (–ü–ª–∞–≤–Ω–æ)</div></li>
                    </ul>
                </div>
            </div>

            <!-- Right Column: Analytics & Progress -->
            <div class="space-y-8">
                <!-- Chart 1: Cardio Journey -->
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-stone-200">
                    <h3 class="font-bold text-stone-700 mb-2">üìà –í–∞—à –ü—É—Ç—å –≤ –ë–µ–≥–µ</h3>
                    <p class="text-xs text-stone-500 mb-4">–ù–∞–≥–ª—è–¥–Ω–æ: –ö–∞–∫ —Ö–æ–¥—å–±–∞ –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –±–µ–≥–æ–º –∑–∞ 12 –Ω–µ–¥–µ–ª—å.</p>
                    <div class="chart-container">
                        <canvas id="cardioChart"></canvas>
                    </div>
                </div>

                <!-- Chart 2: Strength Load -->
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-stone-200">
                    <h3 class="font-bold text-stone-700 mb-2">üí™ –†–æ—Å—Ç –ù–∞–≥—Ä—É–∑–∫–∏</h3>
                    <p class="text-xs text-stone-500 mb-4">–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –æ–±—ä–µ–º–∞ –≤ —Å–∏–ª–æ–≤—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞—Ö –ø–æ —ç—Ç–∞–ø–∞–º.</p>
                    <div class="chart-container h-48">
                        <canvas id="strengthChart"></canvas>
                    </div>
                </div>
            </div>

        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-stone-800 text-stone-300 py-8 mt-12 text-center text-sm">
        <p>–°–æ–∑–¥–∞–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ "–ü—Ä–æ–≥—Ä–∞–º–º–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –Ω–∞ 3 –º–µ—Å—è—Ü–∞". –í—Å–µ–≥–¥–∞ —Å–ª—É—à–∞–π—Ç–µ —Å–≤–æ–µ —Ç–µ–ª–æ.</p>
    </footer>

    <!-- LOGIC -->
    <script>
        // --- DATA STORE ---
        
        const phases = {
            1: { name: "–ù–µ–¥–µ–ª–∏ 1-4: –ë–∞–∑–∞", cardioFocus: "–•–æ–¥—å–±–∞ / –ë–µ–≥-–®–∞–≥ 1:2" },
            2: { name: "–ù–µ–¥–µ–ª–∏ 5-8: –ê–¥–∞–ø—Ç–∞—Ü–∏—è", cardioFocus: "–ë–µ–≥-–®–∞–≥ 2:1 -> 3:1" },
            3: { name: "–ù–µ–¥–µ–ª–∏ 9-12: –ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è", cardioFocus: "–ë–µ–≥ 20 -> 30 –º–∏–Ω –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ" }
        };

        const strengthA = {
            title: "–°–∏–ª–æ–≤–∞—è –ê (–ù–æ–≥–∏, –Ø–≥–æ–¥–∏—Ü—ã)",
            desc: "–§–æ–∫—É—Å: –Ø–≥–æ–¥–∏—Ü—ã, –ø–µ—Ä–µ–¥–Ω—è—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –±–µ–¥—Ä–∞, –∏–∫—Ä—ã, –ø–ª–∞–Ω–∫–∞.",
            exercises: [
                { name: "–Ø–≥–æ–¥–∏—á–Ω—ã–π –º–æ—Å—Ç–∏–∫", p1: "3x15-20 (–°–≤–æ–π –≤–µ—Å)", p2: "3x12-15 (–ì–∞–Ω—Ç–µ–ª—å 5–∫–≥)", p3: "3x15 (–ì–∞–Ω—Ç–µ–ª—å 5–∫–≥, –º–æ–∂–Ω–æ 4 —Å–µ—Ç–∞)" },
                { name: "–ì–æ–±–ª–µ—Ç-–ø—Ä–∏—Å–µ–¥–∞–Ω–∏—è", p1: "3x10-12 (–ì–∞–Ω—Ç–µ–ª—å 3–∫–≥, –º–µ–¥–ª–µ–Ω–Ω–æ)", p2: "3x12-15 (–ì–∞–Ω—Ç–µ–ª—å 5–∫–≥)", p3: "3x15 (–ì–∞–Ω—Ç–µ–ª—å 5–∫–≥)" },
                { name: "–û–±—Ä–∞—Ç–Ω—ã–µ –≤—ã–ø–∞–¥—ã", p1: "3x8-10 (–°–≤–æ–π –≤–µ—Å/3–∫–≥)", p2: "3x10-12 (–ì–∞–Ω—Ç–µ–ª–∏ 5–∫–≥)", p3: "3x12 (–ì–∞–Ω—Ç–µ–ª–∏ 5–∫–≥, –∫–æ–Ω—Ç—Ä–æ–ª—å)" },
                { name: "–û—Ç–≤–µ–¥–µ–Ω–∏–µ –Ω–æ–≥–∏ –ª–µ–∂–∞", p1: "3x15-20 (–†–µ–∑–∏–Ω–∫–∞)", p2: "3x15-20 (–†–µ–∑–∏–Ω–∫–∞ + –ø–∞—É–∑–∞)", p3: "4x15 (–†–µ–∑–∏–Ω–∫–∞ + 2—Å –ø–∞—É–∑–∞)" },
                { name: "–ü–æ–¥—ä–µ–º—ã –Ω–∞ –Ω–æ—Å–∫–∏", p1: "3x15-20 (–ú–µ–¥–ª–µ–Ω–Ω–æ)", p2: "3x20-25 (–°–≤–æ–π –≤–µ—Å)", p3: "4x20 (–°–≤–æ–π –≤–µ—Å/–Ω–∞ –æ–¥–Ω–æ–π –Ω–æ–≥–µ)" },
                { name: "–ü–ª–∞–Ω–∫–∞", p1: "3x30-40 —Å–µ–∫", p2: "3x40-60 —Å–µ–∫", p3: "3x60+ —Å–µ–∫" }
            ]
        };

        const strengthB = {
            title: "–°–∏–ª–æ–≤–∞—è –ë (–ó–∞–¥–Ω—è—è —Ü–µ–ø—å, –í–µ—Ä—Ö)",
            desc: "–§–æ–∫—É—Å: –°–ø–∏–Ω–∞ (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!), –∑–∞–¥–Ω—è—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –±–µ–¥—Ä–∞, –ø–ª–µ—á–∏.",
            exercises: [
                { name: "–†—É–º—ã–Ω—Å–∫–∞—è —Ç—è–≥–∞ (–†–¢)", p1: "3x10-12 (–ì–∞–Ω—Ç–µ–ª–∏ 3–∫–≥, —Å–ø–∏–Ω–∞ –ø—Ä—è–º–∞—è!)", p2: "3x12-15 (–ì–∞–Ω—Ç–µ–ª–∏ 5–∫–≥)", p3: "3x15 (–ì–∞–Ω—Ç–µ–ª–∏ 5–∫–≥, –º–µ–¥–ª–µ–Ω–Ω–æ)" },
                { name: "–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è –°—É–º–æ", p1: "3x10-12 (–ì–∞–Ω—Ç–µ–ª—å 3–∫–≥)", p2: "3x12-15 (–ì–∞–Ω—Ç–µ–ª—å 5–∫–≥)", p3: "4x15 (–ì–∞–Ω—Ç–µ–ª—å 5–∫–≥)" },
                { name: "–¢—è–≥–∞ –≤ –Ω–∞–∫–ª–æ–Ω–µ", p1: "3x10-12 (–ì–∞–Ω—Ç–µ–ª–∏ 3–∫–≥)", p2: "3x12-15 (–ì–∞–Ω—Ç–µ–ª–∏ 5–∫–≥)", p3: "4x12 (–ì–∞–Ω—Ç–µ–ª–∏ 5–∫–≥)" },
                { name: "–ü—Ç–∏—Ü–∞-–°–æ–±–∞–∫–∞", p1: "3x10-12 (–ú–µ–¥–ª–µ–Ω–Ω–æ!)", p2: "3x15 (–ü–∞—É–∑–∞ 2 —Å–µ–∫)", p3: "4x12-15 (–ö–æ–Ω—Ç—Ä–æ–ª—å)" },
                { name: "–ñ–∏–º –≥–∞–Ω—Ç–µ–ª–µ–π —Å—Ç–æ—è", p1: "3x10-12 (–ì–∞–Ω—Ç–µ–ª–∏ 3–∫–≥)", p2: "3x12 (–ì–∞–Ω—Ç–µ–ª–∏ 5–∫–≥)", p3: "3x15 (–ì–∞–Ω—Ç–µ–ª–∏ 5–∫–≥)" }
            ]
        };

        const pilates = {
            title: "–ü–∏–ª–∞—Ç–µ—Å / –¢–µ—Ä–∞–ø–µ–≤—Ç–∏—á–µ—Å–∫–∞—è –ô–æ–≥–∞",
            desc: "–ú–æ–±–∏–ª–∏–∑–∞—Ü–∏—è –∏ –≥–ª—É–±–æ–∫–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è. –í—Å–µ –¥–≤–∏–∂–µ–Ω–∏—è –º–µ–¥–ª–µ–Ω–Ω—ã–µ.",
            exercises: [
                { name: "–ö–æ—à–∫–∞-–ö–æ—Ä–æ–≤–∞", details: "3x10-12 —Ü–∏–∫–ª–æ–≤. –ü–ª–∞–≤–Ω—ã–π –ø—Ä–æ–≥–∏–± –∏ —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ. –ù–µ –¥–æ–≤–æ–¥–∏—Ç–µ –¥–æ –±–æ–ª–∏." },
                { name: "–ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–ø–µ—Ä–µ—á–Ω–æ–π –º—ã—à—Ü—ã", details: "3x15-20. –õ–µ–∂–∞ –Ω–∞ —Å–ø–∏–Ω–µ, –ø—Ä–∏–∂–∞—Ç—å –ø–æ—è—Å–Ω–∏—Ü—É –Ω–∞ –≤—ã–¥–æ—Ö–µ." },
                { name: "–†–∞—Å—Ç—è–∂–∫–∞ '–ß–µ—Ç–≤–µ—Ä–∫–∞'", details: "3x30-45 —Å–µ–∫/–Ω–æ–≥–∞. –õ–µ–∂–∞, –ª–æ–¥—ã–∂–∫–∞ –Ω–∞ –∫–æ–ª–µ–Ω–µ." },
                { name: "–£–¥–ª–∏–Ω–µ–Ω–∏–µ –ø–æ–∑–≤–æ–Ω–æ—á–Ω–∏–∫–∞", details: "3x10-12. –õ–µ–∂–∞ –Ω–∞ –∂–∏–≤–æ—Ç–µ, –ø–æ–¥—ä–µ–º –≥—Ä—É–¥–∏ –±–µ–∑ —Ä—É–∫." },
                { name: "–í—Ä–∞—â–µ–Ω–∏–µ –∫–æ–ª–µ–Ω—è–º–∏ –ª–µ–∂–∞", details: "3x10/—Å—Ç–æ—Ä–æ–Ω–∞. –û–ø—É—Å–∫–∞—Ç—å –∫–æ–ª–µ–Ω–∏ –≤ —Å—Ç–æ—Ä–æ–Ω—ã, –ø–ª–µ—á–∏ –Ω–∞ –ø–æ–ª—É." }
            ]
        };

        // --- STATE ---
        let currentPhase = 1;
        let currentDay = 0; // 0=Mon, 6=Sun

        // --- INIT ---
        window.onload = function() {
            setPhase(1);
            setDay(0);
            renderCharts();
        };

        // --- ACTIONS ---
        function setPhase(p) {
            currentPhase = p;
            
            // Update buttons UI
            document.querySelectorAll('.phase-btn').forEach((btn, idx) => {
                if (idx + 1 === p) {
                    btn.classList.add('active', 'bg-teal-50', 'border-teal-600');
                    btn.classList.remove('bg-white', 'text-stone-500', 'border-stone-200');
                } else {
                    btn.classList.remove('active', 'bg-teal-50', 'border-teal-600');
                    btn.classList.add('bg-white', 'text-stone-500', 'border-stone-200');
                }
            });

            // Re-render current day to reflect phase change
            renderDayContent();
            renderCharts(); // Update strength chart highlight
        }

        function setDay(d) {
            currentDay = d;

            // Update Day Buttons UI
            document.querySelectorAll('.day-card').forEach((card, idx) => {
                if (idx === d) {
                    card.classList.add('active');
                } else {
                    card.classList.remove('active');
                }
            });

            renderDayContent();
        }

        function toggleSection(id) {
            const el = document.getElementById(id);
            el.classList.toggle('hidden');
        }

        // --- RENDERING LOGIC ---
        function renderDayContent() {
            const titleEl = document.getElementById('workout-title');
            const descEl = document.getElementById('workout-desc');
            const container = document.getElementById('main-workout-container');
            const warmup = document.getElementById('warmup-block');
            const cooldown = document.getElementById('cooldown-block');

            container.innerHTML = '';
            
            // Show/Hide Warmup/Cooldown based on activity type
            // Rest day: hide all
            if (currentDay === 5) { // Saturday
                titleEl.innerText = "–ê–∫—Ç–∏–≤–Ω—ã–π –û—Ç–¥—ã—Ö";
                descEl.innerText = "–õ–µ–≥–∫–∞—è –ø—Ä–æ–≥—É–ª–∫–∞ –∏–ª–∏ –ø–æ–ª–Ω—ã–π –æ—Ç–¥—ã—Ö. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞.";
                warmup.classList.add('hidden');
                cooldown.classList.add('hidden');
                container.innerHTML = `<div class="p-8 text-center text-stone-400 bg-white rounded-xl border border-dashed border-stone-300">üí§ –ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –æ—Ç–¥—ã—Ö–æ–º!</div>`;
                return;
            }

            warmup.classList.remove('hidden');
            cooldown.classList.remove('hidden');

            // 1. STRENGTH A (Mon)
            if (currentDay === 0) {
                renderStrengthView(strengthA, titleEl, descEl, container);
            }
            // 2. STRENGTH B (Thu)
            else if (currentDay === 3) {
                renderStrengthView(strengthB, titleEl, descEl, container);
            }
            // 3. PILATES (Wed)
            else if (currentDay === 2) {
                titleEl.innerText = pilates.title;
                descEl.innerText = pilates.desc;
                pilates.exercises.forEach(ex => {
                    container.innerHTML += `
                        <div class="bg-white p-4 rounded-xl shadow-sm border border-purple-100 flex items-start gap-4">
                            <div class="bg-purple-100 text-purple-600 p-2 rounded-lg font-bold">üßò‚Äç‚ôÄÔ∏è</div>
                            <div>
                                <h4 class="font-bold text-stone-800">${ex.name}</h4>
                                <p class="text-stone-600 text-sm mt-1">${ex.details}</p>
                            </div>
                        </div>
                    `;
                });
            }
            // 4. CARDIO (Tue, Fri, Sun)
            else {
                renderCardioView(titleEl, descEl, container);
            }
        }

        function renderStrengthView(data, titleEl, descEl, container) {
            titleEl.innerText = data.title;
            descEl.innerText = `${data.desc} (–≠—Ç–∞–ø ${currentPhase})`;
            
            data.exercises.forEach(ex => {
                // Get detail based on phase
                let detail = currentPhase === 1 ? ex.p1 : (currentPhase === 2 ? ex.p2 : ex.p3);
                
                container.innerHTML += `
                    <div class="bg-white p-4 rounded-xl shadow-sm border border-stone-100 flex flex-col sm:flex-row sm:items-center justify-between gap-4 hover:border-teal-200 transition-colors">
                        <div class="flex items-center gap-3">
                            <div class="h-10 w-10 rounded-full bg-teal-100 flex items-center justify-center text-teal-700 font-bold">üí™</div>
                            <h4 class="font-bold text-stone-800 text-lg">${ex.name}</h4>
                        </div>
                        <div class="bg-stone-50 px-4 py-2 rounded-lg border border-stone-200">
                            <span class="text-teal-700 font-bold font-mono">${detail}</span>
                        </div>
                    </div>
                `;
            });
        }

        function renderCardioView(titleEl, descEl, container) {
            titleEl.innerText = "–ö–∞—Ä–¥–∏–æ –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ (35-45 –º–∏–Ω)";
            
            let phaseInfo = "";
            let details = "";
            let color = "bg-blue-50 border-blue-100";
            let icon = "üèÉ‚Äç‚ôÄÔ∏è";

            if (currentPhase === 1) {
                phaseInfo = "–§–∞–∑–∞ 1: –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã";
                details = "4 –Ω–µ–¥–µ–ª–∏ –°–∫–∞–Ω–¥–∏–Ω–∞–≤—Å–∫–æ–π —Ö–æ–¥—å–±—ã. –ï—Å–ª–∏ –ª–µ–≥–∫–æ: 1 –º–∏–Ω –ª–µ–≥–∫–∏–π –±–µ–≥ / 2 –º–∏–Ω —Ö–æ–¥—å–±–∞.";
            } else if (currentPhase === 2) {
                phaseInfo = "–§–∞–∑–∞ 2: –ê–¥–∞–ø—Ç–∞—Ü–∏—è";
                details = "–ò–Ω—Ç–µ—Ä–≤–∞–ª—ã: 2 –º–∏–Ω –±–µ–≥ / 1 –º–∏–Ω —Ö–æ–¥—å–±–∞. –ö –∫–æ–Ω—Ü—É –º–µ—Å—è—Ü–∞: 3 –º–∏–Ω –±–µ–≥ / 1 –º–∏–Ω —Ö–æ–¥—å–±–∞.";
            } else {
                phaseInfo = "–§–∞–∑–∞ 3: –ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è";
                details = "–¶–µ–ª—å: 20 –º–∏–Ω—É—Ç –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ. –ö –∫–æ–Ω—Ü—É –º–µ—Å—è—Ü–∞: 30 –º–∏–Ω—É—Ç –ª–µ–≥–∫–æ–≥–æ –±–µ–≥–∞. –ß–µ—Ä–µ–¥—É–π—Ç–µ —Å —Ö–æ–¥—å–±–æ–π.";
            }

            descEl.innerText = phaseInfo;

            container.innerHTML = `
                <div class="${color} p-6 rounded-xl border flex flex-col md:flex-row items-center gap-6 text-center md:text-left">
                    <div class="text-6xl">${icon}</div>
                    <div>
                        <h3 class="font-bold text-xl text-stone-800 mb-2">–ó–∞–¥–∞–Ω–∏–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è</h3>
                        <p class="text-stone-700 text-lg leading-relaxed">${details}</p>
                        <div class="mt-4 text-sm text-stone-500 bg-white/50 p-2 rounded inline-block">
                            üí° –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—É–ª—å—Å–æ–º. –¢–µ–º–ø –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å "—Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–º".
                        </div>
                    </div>
                </div>
            `;
        }

        // --- CHARTS ---
        let cardioChartInstance = null;
        let strengthChartInstance = null;

        function renderCharts() {
            // Cardio Chart Data
            const ctxCardio = document.getElementById('cardioChart').getContext('2d');
            
            if(cardioChartInstance) cardioChartInstance.destroy();

            cardioChartInstance = new Chart(ctxCardio, {
                type: 'line',
                data: {
                    labels: ['–ù–¥ 1', '–ù–¥ 2', '–ù–¥ 3', '–ù–¥ 4', '–ù–¥ 5', '–ù–¥ 6', '–ù–¥ 7', '–ù–¥ 8', '–ù–¥ 9', '–ù–¥ 10', '–ù–¥ 11', '–ù–¥ 12'],
                    datasets: [
                        {
                            label: '–ë–µ–≥ (–º–∏–Ω)',
                            data: [0, 2, 5, 8, 15, 18, 20, 22, 25, 28, 30, 30], // Approximate progression
                            backgroundColor: 'rgba(13, 148, 136, 0.2)', // teal
                            borderColor: '#0d9488',
                            fill: true,
                            tension: 0.4
                        },
                        {
                            label: '–•–æ–¥—å–±–∞ (–º–∏–Ω)',
                            data: [30, 28, 25, 22, 15, 12, 10, 8, 5, 2, 0, 0],
                            backgroundColor: 'rgba(168, 162, 158, 0.2)', // stone
                            borderColor: '#a8a29e',
                            fill: true,
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { stacked: true, beginAtZero: true, title: {display: true, text: '–ú–∏–Ω—É—Ç—ã'} }
                    },
                    plugins: {
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                        }
                    }
                }
            });

            // Strength Chart Data
            const ctxStrength = document.getElementById('strengthChart').getContext('2d');
            if(strengthChartInstance) strengthChartInstance.destroy();

            // Highlight bar based on current phase
            const bgColors = ['#e7e5e4', '#e7e5e4', '#e7e5e4'];
            bgColors[currentPhase - 1] = '#0d9488'; // Active phase is teal

            strengthChartInstance = new Chart(ctxStrength, {
                type: 'bar',
                data: {
                    labels: ['–ú–µ—Å—è—Ü 1 (–¢–µ—Ö–Ω–∏–∫–∞)', '–ú–µ—Å—è—Ü 2 (–°–∏–ª–∞)', '–ú–µ—Å—è—Ü 3 (–û–±—ä–µ–º)'],
                    datasets: [{
                        label: '–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –ù–∞–≥—Ä—É–∑–∫–∏',
                        data: [40, 70, 100], // Relative abstract values
                        backgroundColor: bgColors,
                        borderRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { display: false },
                        x: { grid: { display: false } }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        }

    </script>
</body>
</html>
